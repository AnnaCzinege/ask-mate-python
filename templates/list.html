{% extends 'layout.html' %}

{% block title %}
    Welcome! | AskMate
{% endblock %}

{% block content %}
    <center><img src="{{ url_for('static', filename='img/logo.png') }}"></center>
    <div id="list_div">
        <p id="title_text"> Questions
            <a href="{{ url_for('route_add') }}">
                <img src="{{ url_for('static', filename='img/add.png') }}" width="40px" align="left"/>
            </a>
            <form action=" {{ url_for('search') }}" method="POST">
                <a href="{{ url_for('search') }}" style="float: right;" onclick="form.submit();">
                <img src="{{ url_for('static', filename='img/search.png') }}" id="search_img" width="35px" height="35px">
                </a>
                <input id="search_bar" name="search_phrase" type="text" placeholder="Search..">
            </form>
        </p>
        <p>
            <a href="{{ url_for('display_latest_question_by_id') }}">Latest question</a>
        </p>
    <br>

    <table id="questions_list">
        <tr>
            <th style="width: 80%;"><a href="{{ url_for('route_list', num='1', dir_='asc' if dir_ == 'desc' else 'desc') }}">Title</a></th>
            <th> </th>
        </tr>
        {% for row in id_title %}
        <tr>
            <td><a href="{{ url_for('show_question_details', id_=row['id']) }}">{{ row['title'] }}</a></td>
            <td align="center">
                <div>
                    <div class="action_button">
                        <a href="{{ url_for('route_edit', id_=row['id']) }}" style="text-decoration: none;"><img src="{{ url_for('static', filename='img/edit.png') }}"></a>
                    </div>
                    <div class="action_button">
                        <form action="{{ url_for('route_delete', id_=row['id']) }}", method="POST">
                            <input type="image" name="submit" src="{{ url_for('static', filename='img/trash.png') }}" width="30px"/>
                        </form>
                    </div>
                </div>
            </td>
        </tr>
        {% endfor %}
        </table>
    </div>
{% endblock %}